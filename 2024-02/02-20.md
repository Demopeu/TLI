# 트리

> 비선형 구조

> 원소들 간에 1:n 관계를 가지는 자료구조

> 원소들 간에 계층관계를 가지는 계층형 자료구조

> 상위 원소에서 하위 원소로 내려가면서 확장되는 트리모양의 구조

## 트리의 정의

- 한 개 이상의 노드로 이루어진 유한 집합

    > 노드 중 최상위 노드를 루트

    > 나머지 노드들은 n개의 분리 집합으로 분리

- 분리 집합 또한, 각각 하나의 트리가 되며, 루트의 부 트리라고 함

## 트리의 용어

> 노드 : 트리의 원소

> 간선 : 노드를 연결하는 선

> 루트 노드 : 시작 노드

> 형제 노드 : 같은 부모

> 조상 노드 : 간선을 따라 루트 노드까지 이르는 경로에 있는 모든 노드

> 서브 트리 : 부모 노드와 연결된 간선을 끊었을 때 생성되는 트리

> 자손 노드 : 서브 트리에 있는 하위 레벨의 노드들

> 차수(degree)

![차수](https://github.com/Demopeu/TLI/assets/156268475/743d7eb4-038b-4fed-b00b-fa3578297917)

> 높이

    - 노드의 높이 : 노드의 레벨

    - 트리의 높이 : 최대 레벨(루트는 레벨 0임)

---

# 이진 트리

> 모든 노드들이 2개의 서브트리를 갖는 특별한 형태의 트리

> 최대 2개 까지임

> 단 1개도 이진 트리

## 이진 트리의 특징

> 레벨 i에서의 노드의 최대 개수는 2^i개

> 높이가 h인 이진 트리가 가질 수 있는 노드의 최소 개수는 (h+1)개가 되며, 최대 개수는 (2^(h+1)-1)개

## 포화 이진 트리

> 모든 레벨에 노드가 포화 상태

> 높이가 h일 경우, 노드의 수는 (2^(h+1)-1) 개

> 루트를 1번으로 하여 정해진 위치에 대한 노드 번호 가짐

# 완전 이진 트리

> 높이가 h이고 노드 수가 n개일 때, 포화 이진 트리의 노드 번호 1번부터 n번 까지 빈자리가 없는 이진 트리

# 편향 이진 트리

> 높이 h에 대하여 최소 개수만 가지면서 한쪽 방향의 자식 노드만 가진 이진 트리

---

# 순회

> 순회란 트리의 각 노드를 중복되지 않게 전부 방문하는 것

> 트리는 비 선형 구조이므로 선후 관계 모름

> 따라서 특별한 방법 필요

## 이진 트리의 순회

- 전위 순회

    > 부모 노드 방문 후, 좌식 노드를 좌, 우 순서

- 중위 순회

    > 왼쪽 자식노드, 부모 노드, 오른 쪽 자식 노드 순으로 방문

- 후위 순회

    > 자식 노드를 좌우 순서로 방문 후, 부모노드로 방문

### 전위 순회

#### 수행 방법

1. 현재 노드 n을 방문 처리

2. 현재 노드 n의 왼쪽 서브 트리

3. 현재 노드 n의 오른쪽 서브트리로 이동

#### 알고리즘

```
def preorder traberse(T):
    if T:
        visit(T)
        preorder_traverse(T.left)
        preorder_traverse(T.right)
```

![전위순회의 예](https://github.com/Demopeu/TLI/assets/156268475/32b49930-41b5-4ef2-810f-d453b0c19b45)

### 중위 순회

#### 수행 방법

1. 현재 노드 n의 왼쪽 서브트리로 이동

2. 현재 노드 n를 방문 처리

3. 현재 노드 n의 오른쪽 서브트리로 이동

#### 알고리즘

```
def preorder traberse(T):
    if T:
        preorder_traverse(T.left)
        visit(T)
        preorder_traverse(T.right)
```

### 후위 순회

#### 수행 방법

1. 현재 노드 n의 왼쪽 서브 트리로 이동

2. 현재 노드 n의 오른쪽 서브트리로 이동

3. 현재 노드 n를 방문 처리

#### 알고리즘

```
def preorder traberse(T):
    if T:
        preorder_traverse(T.left)
        preorder_traverse(T.right)
        visit(T)
```

---

# 이진트리의 표현

## 배열을 이용

### 노드 번호의 성질

> 노드 번호가 i인 노드의 부모 노드 번호 : i//2

> 노드 번호가 i인 노드의 왼쪽 자식 노드 번호 : 2*i

> 노드 번호가 i인 노드의 오른쪽 자식 노드 번호 : 2*i + 1

> 레벨 n의 노드 시작 번호 : 2^n



### 부모 번호를 인덱스로 자식 번호로 저장

#### 조상 찾기

```
c = 5
while(a[c] != 0) # 루트인지 확인
    c = a[c]
    anc.append(c) # 조상 목록
root =c
```

### 배열을 이용한 이진 트리의 표현의 단점

> 편향 이진 트리의 경우 메모리 공간 낭비

> 중간에 새로운 노드 삽입, 삭제할 경우 비효율

## 연결 리스트 이용

> 배열을 이용한 이진트리의 단점 보완

> 단순 연결 리스트 노드를 사용하여 구현

---

# 수식 트리

> 수식을 표현하는 이진 트리

> 연산자는 루트 or 가지 노드

> 피연산자는 모두 잎 노드